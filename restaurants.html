<!DOCTYPE html>
<html>
<head>
    <title>Ranked Restaurants</title>
    <style>
        .restaurant-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            margin: 20px;
            padding: 20px;
            max-width: 600px;
        }

        .score-badge {
            background-color: #4CAF50;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            float: right;
            font-weight: bold;
        }

        .photo-gallery {
            display: flex;
            overflow-x: auto;
            gap: 10px;
            padding: 10px 0;
        }

        .photo-gallery img {
            width: 200px;
            height: 150px;
            object-fit: cover;
            border-radius: 4px;
        }

        .restaurant-info {
            margin-top: 10px;
        }

        .rating {
            color: #f8c42d;
        }

        .price {
            color: #2d9f4d;
        }
    </style>
</head>
<body>
    <div id="restaurants-container"></div>

    <script>
        function createRestaurantCard(restaurantData) {
            const restaurant = restaurantData.restaurant; // Access the restaurant object
            return `
                <div class="restaurant-card">
                    <h2>
                        ${restaurant.Name}
                        <span class="score-badge">Score: ${restaurantData.totalScore}</span>
                    </h2>
                    <div class="photo-gallery">
                        ${restaurant.Photos.map(photo => `
                            <img src="${photo}" alt="Restaurant photo" onerror="this.src='placeholder.jpg'">
                        `).join('')}
                    </div>
                    <div class="restaurant-info">
                        <p><strong>Address:</strong> ${restaurant.Address}</p>
                        <p><strong>Rating:</strong> <span class="rating">${'â˜…'.repeat(Math.round(restaurant.Rating))}</span> (${restaurant.Rating})</p>
                        <p><strong>Price:</strong> <span class="price">${restaurant.Price}</span></p>
                        <p><strong>Cuisine:</strong> ${restaurant.Cuisine}</p>
                    </div>
                </div>
            `;
        }

        async function displayRankedRestaurants() {
            try {
                const response = await fetch('ranked_restaurants.json');
                const rankedRestaurants = await response.json();

                const container = document.getElementById('restaurants-container');
                container.innerHTML = ''; // Clear existing content
                rankedRestaurants.forEach(restaurantData => {
                    container.innerHTML += createRestaurantCard(restaurantData);
                });

            } catch (error) {
                console.error('Error loading ranked restaurants:', error);
                document.getElementById('restaurants-container').innerHTML = 
                    '<p>Error loading restaurants. Please try again later.</p>';
            }
        }

        // Call the function when the page loads
        displayRankedRestaurants();
    </script>
</body>
</html> 